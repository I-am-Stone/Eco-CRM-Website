{% extends 'dashboard/index.html' %}

{% block order %}
<div class="container mx-auto px-4 py-8 shadow-2xl my-20">
  <h1 class="text-3xl font-bold mb-6">Order List</h1>

  <div class="overflow-x-auto">
      <table class="table table-zebra w-full">
          <thead>
          <tr>
              <th class="bg-primary text-primary-content">Customers ID</th>
              <th class="bg-primary text-primary-content">Customers Name</th>
              <th class="bg-primary text-primary-content">Product Name</th>
              <th class="bg-primary text-primary-content">Product Price</th>
              <th class="bg-primary text-primary-content">Orders Date</th>
              <th class="bg-primary text-primary-content">Address</th>
              <th class="bg-primary text-primary-content">Quantity</th>
              <th class="bg-primary text-primary-content">Ship/Shipped</th>
          </tr>
          </thead>
          <tbody>
            {% for order in orders %}
            <tr class="hover">
                <td>{{ order.pk }} {{ order.id }}</td>
                <td>{{ order.customer }}</td>
                <td>{{ order.product }}</td>
                <td>{{ order.cost }}</td>
                <td>{{ order.order_date }}</td>
                <td>{{ order.address }}</td>
                <td>{{ order.count }}</td>
                <td>
                    <form method="POST" action="{% url 'update_order_status' order.key %}">
                        {% csrf_token %}
                        <select name="status" id="status" onchange="this.form.submit()">
                            <option value="">{{ order.status }}</option>
                            <option value="PROCESSING" {% if order.status == "Processing" %}selected{% endif %}>Processing</option>
                            <option value="COMPLETED" {% if order.status == "Completed" %}selected{% endif %}>Completed</option>
                            <option value="CANCELLED" {% if order.status == "Cancelled" %}selected{% endif %}>Cancelled</option>
                        </select>
                    </form>
                </td>
            </tr>
            {% endfor %}
          </tbody>
      </table>
  </div>
</div>
{% endblock %}